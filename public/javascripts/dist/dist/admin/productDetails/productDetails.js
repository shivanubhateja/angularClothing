angular.module("mainAdminApp").controller("productDetailsCtrl",["$scope","adminServices","$rootScope","$stateParams","$timeout",function(t,e,o,i,r){t.productDetails={},t.$watch("productDetails.images.display",function(){r(function(){t.$digest()},0)}),t.createId=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},t.fetchProductDetails=function(o){e.fetchProductDetails(o).then(function(e){e.data.productDetails.updatedAt=new Date(e.data.productDetails.updatedAt),e.data.productDetails.launchedAt=new Date(e.data.productDetails.launchedAt),e.data.productDetails.limitedEdition=e.data.productDetails.limitedEdition+"",t.productDetails=e.data.productDetails},function(){})},t.init=function(){"newProduct"===i.src?(t.productDetails.id=t.createId(),t.productDetails.categoryInfo={},t.productDetails.images={display:"",additional:[]},t.productDetails.categoryInfo.filters=[],t.productDetails.sizes={XS:0,S:0,M:0,L:0,XL:0,XXL:0},t.productDetails.fitDescription="Slim Fit: Fits closer to the body, take your regular size. Size up if a looser fit is desired",t.productDetails.materialDescription='<div> 100% cotton Pique Prewashed to impart a softer texture. <div><span><b>WashCare Instructions:</b> Machine wash cold Do not bleach or wash with chlorine based detergent or water Wash/dry inside out Do not iron directly on prints Dry promptly in shade Dry on a flat surface as hanging may cause measurement variations Product color may vary little due to photography Wash with similar clothes. <a href="/care">Know more</a></span>',t.productDetails.shippingDescription="<span>Free Shipping. COD charges applicable. All products, are applicable for return. Customers can return their order within 15 days of the order delivery. Refunds for returned products will be given in your bank account used for payment.</span>",t.productDetails.fit="Fits just right - not too tight, not too loose."):t.fetchProductDetails(i.src)},t.addProduct=function(){"newProduct"===i.src?e.addProduct(t.productDetails).then(function(t){console.log(t)},function(t){}):e.updateProduct(t.productDetails).then(function(t){},function(){})},t.pushInFilters=function(e){t.productDetails.categoryInfo.filters||(t.productDetails.categoryInfo.filters=[]),t.productDetails.categoryInfo.filters.indexOf(e)>=0?t.productDetails.categoryInfo.filters.splice(t.productDetails.categoryInfo.filters.indexOf(e),1):t.productDetails.categoryInfo.filters.push(e)},t.init()}]);